# 논문 "Budget-Aware Tool-Use Enables Effective Agent Scaling" (arXiv:2511.17006) 상세 설명

## 연구 목표 및 주요 기여

이 논문은 도구 증강 에이전트의 스케일링에 대한 중요한 과제를 다룹니다. 대규모 언어 모델(LLM)의 성능은 테스트 시간 계산량 증가에 따라 향상되는 경향이 있지만, 도구 증강 에이전트의 경우 단순히 도구 호출 예산을 늘리는 것만으로는 성능이 개선되지 않는다는 문제의식을 제기합니다. 이는 표준 에이전트가 "예산 인식(budget awareness)"이 부족하여 추가 자원을 전략적으로 활용하지 못하고 빠르게 성능 상한에 도달하기 때문입니다. 논문의 핵심 목표는 주어진 자원 예산을 최대한 활용하여 에이전트가 효과적으로 스케일링할 수 있도록 효율적인 프레임워크를 설계하는 것입니다. 즉, 정의된 도구 호출 예산을 엄격히 준수하면서 답변 정확도를 극대화하는 것을 목표로 합니다.

# 이러한 목표를 달성하기 위해 논문은 다음과 같은 주요 기여를 합니다:

체계적인 연구: 예산 제약이 있는 도구 사용 에이전트에 대한 최초의 체계적인 연구를 제시하며, 명시적인 도구 호출 예산을 통해 에이전트 테스트 시간 스케일링을 공식화하고 통합된 비용 측정 기준을 도입합니다.

Budget Tracker 도입: 에이전트에 지속적인 예산 인식을 제공하는 경량 플러그인 모듈인 Budget Tracker를 소개합니다.

BATS 프레임워크 개발: 실시간 자원 추적을 기반으로 계획 및 검증 전략을 동적으로 조정하는 고급 프레임워크인 BATS(Budget Aware Test-time Scaling)를 개발합니다. BATS는 체계적인 실험을 통해 우수한 비용 효율성, 유리한 스케일링 곡선 및 개선된 비용-성능 트레이드오프를 입증합니다.

핵심 개념: Budget Tracker 및 BATS 프레임워크

논문은 도구 증강 에이전트의 효율성과 스케일링을 개선하기 위한 두 가지 핵심 개념을 제시합니다.

# Budget Tracker:

설계 원칙: 모든 에이전트 오케스트레이션 프레임워크와 호환되는 경량 플러그인 모듈로 설계되었습니다.

기능: 에이전트에 지속적인 예산 인식을 제공하는 것이 주된 기능입니다. 각 반복마다 자원 사용량과 남은 예산을 실시간으로 모니터링하고 업데이트하여 에이전트가 실행 과정 전반에 걸쳐 정보에 입각한 자원 할당 결정을 내릴 수 있도록 돕습니다.

# BATS (Budget-Aware Test-time Scaling) 프레임워크:

설계 원칙: Budget Tracker가 제공하는 예산 인식을 활용하는 고급 시스템입니다. 실시간 자원 상태에 따라 계획 및 검증 전략을 동적으로 조정하는 것을 핵심 설계 원칙으로 합니다.

기능: 제약 조건 분해(constraint decomposition), 지속적인 구조화된 계획(persistent structured planning), 그리고 연속적인 예산 조건부 업데이트(continuous budget-conditioned updating)를 통합합니다. 남은 자원에 따라 유망한 경로를 "더 깊이 파고들지(dig deeper)" 또는 새로운 경로로 "전환할지(pivot)" 결정하고, 자기 검증을 수행하여 추론 궤적과 자원 사용량을 재평가하며, 할당된 예산이 소진되면 작업을 종료합니다.

실험 설정

이 연구의 실험 설정은 토큰 사용량과 도구 호출 비용을 모두 고려하는 통합 비용 측정 기준을 사용하여 다양한 웹 검색 에이전트를 여러 벤치마크에서 평가했습니다.

평가 에이전트 유형:

범용 기본 모델: GPT-4o, Claude-3.7-Sonnet, Gemini-2.5-Flash, Gemini-2.5-Pro, OpenAI o1과 같은 모델.

훈련 기반 에이전트: ASearcher, WebSailor, DeepDive, WebExplorer, OpenAI Deep Research와 같은 모델.

예산 제약 에이전트: ReAct 프레임워크 기반 에이전트(예: Claude-Sonnet-4 ReAct, Gemini-2.5-Flash ReAct, Gemini-2.5-Pro ReAct) 및 제안된 BATS 프레임워크 기반 에이전트(예: Claude-Sonnet-4 BATS, Gemini-2.5-Flash BATS, Gemini-2.5-Pro BATS)가 포함되었습니다. 예산 제약 환경에서는 각 도구에 대해 100회의 도구 사용 예산이 엄격하게 할당되었으며, 예산이 소진되거나 최종 답변에 도달하면 추론 과정을 중단했습니다.

## 벤치마크:

BrowseComp: 1,266개의 어려운 웹 브라우징 질문으로 구성된 데이터셋.

BrowseComp-ZH: 지역별 웹 환경을 위한 289개의 중국어 벤치마크.

HLE-Search: 검색이 명시적으로 필요한 쿼리에 초점을 맞춘 Human’s Last Exam의 200개 질문 하위 집합.

통합 비용 측정 기준: 토큰 사용량과 도구 호출 비용을 모두 포함하여 효율성에 대한 전체론적인 관점을 제공했습니다. 병렬 스케일링의 경우, Gemini-2.5-Pro에 대해 실행당 50개의 고정 예산이 설정되었습니다.

## 주요 경험적 발견

연구의 주요 경험적 발견은 예산 인식이 에이전트 성능에 미치는 중대한 영향을 명확하게 보여줍니다.

표준 에이전트의 성능 상한선: 표준 에이전트는 예산 인식이 부족하여, 더 많은 도구 호출 예산을 부여해도 성능 개선에 실패하고 빠르게 성능 상한선에 도달합니다. 이는 에이전트가 추가 리소스를 전략적으로 활용하지 못하고 때로는 불필요하게 탐색을 중단하기 때문입니다.

예산 인식의 긍정적 영향: Budget Tracker와 같은 경량 플러그인은 에이전트에 지속적인 예산 인식을 제공하여, 동일한 예산으로도 더 높은 성능을 달성하고, 유사한 정확도를 유지하면서도 리소스 사용량과 비용을 절감합니다. 예산 인식은 에이전트가 리소스를 효과적으로 활용하여 ReAct와 같은 표준 에이전트의 성능 상한선을 넘어설 수 있도록 합니다.

BATS의 개선 효과: 고급 프레임워크인 BATS는 예산 인식을 더욱 활용하여 다양한 예산 제약 조건에서 탁월한 개선을 이룹니다. BATS는 실시간 리소스 상태에 따라 계획 및 검증 전략을 동적으로 조정하며, 더 적은 도구 호출과 낮은 전체 비용으로 더 높은 성능을 달성하는 유리한 스케일링 곡선을 생성합니다. 심지어 초기 중단 시나리오에서도 BATS는 예산이 증가함에 따라 도구 사용량을 전략적으로 늘려 꾸준한 정확도 향상을 보이며, 기본 모델보다 훨씬 적은 예산으로도 더 나은 성능을 달성합니다.

## 테스트 시간 스케일링 (TTS) 전략

테스트 시간 스케일링(TTS) 전략은 추론 시 계산량을 늘려 모델 성능을 향상시키는 접근 방식입니다. 논문은 크게 순차적 스케일링과 병렬 스케일링, 그리고 이들의 이점을 결합하는 하이브리드 스케일링에 대해 논의합니다. 기존 TTS 연구는 주로 텍스트 전용 추론에 집중되었지만, 이 논문은 도구 증강 에이전트에 TTS를 확장하여 토큰 사용량과 도구 호출을 명시된 예산 제약 내에서 고려해야 함을 강조합니다.

## 순차적 스케일링:

적용: 도구 증강 에이전트의 순차적 스케일링에서는 "예산 강제 전략(budget-forcing strategy)"을 채택하여 에이전트가 사용 가능한 도구 호출을 더 잘 활용하도록 유도합니다. 에이전트가 답변을 제안했지만 아직 도구 예산이 남아 있는 경우, "잠시만요, 아직 도구 예산이 남아있습니다. 결론을 내리기 전에 더 많은 검색 및 탐색 도구를 사용하여 다른 정보 소스를 탐색하세요."와 같은 메시지를 추가합니다.

효과: 이는 모델이 추론을 재평가하고 출력을 반복적으로 개선하도록 촉진합니다. 이 과정은 에이전트의 도구 예산이 소진될 때까지 계속되며, 예산이 완전히 소진되면 최종 답변을 생성하도록 지시하여 예산이 깊이 있는 탐색에 완전히 활용되도록 합니다.

## 병렬적 스케일링:

적용: 도구 증강 에이전트의 병렬적 스케일링은 실행당 고정된 예산을 설정하고 여러 독립적인 실행을 병렬로 수행하는 것을 포함합니다. 다양한 추론 경로는 온도 샘플링(temperature sampling)을 사용하여 생성되며, 최종 답변을 결정하기 위해 집계 전략이 사용됩니다.

효과: 일반적인 집계 방법에는 다수결(Majority Vote), Best-of-N, Pass@N 등이 있습니다. 예를 들어, Gemini-2.5-Flash를 사용하여 다수결을 통해 가장 일반적인 답변을 선택할 수 있습니다. BATS와 같은 시나리오에서는 할당된 예산이 완전히 소진될 때까지 새로운 시퀀스를 계속 샘플링하여 각 질문에 대한 예산 제약이 엄격하게 시행됩니다.

BATS의 예산 관리 및 컨텍스트 제어 구현 상세

BATS는 효율적인 자원 활용과 관리 가능한 컨텍스트 길이를 유지하기 위해 컨텍스트 관리 및 예산 제어에 대한 구체적인 전략을 구현합니다.

컨텍스트 잘라내기 (Context Truncation): 각 브라우징 도구 호출에 대해, 가져온 웹페이지는 모델로 전송되기 전에 150,000자로 잘립니다. 이는 다양한 URL에서 발생하는 가변적인 텍스트 양으로 인해 컨텍스트 길이가 과도하게 커지는 것을 방지하며, 언어 모델의 입력 크기를 최적화합니다.

도구 출력 보존 및 요약 대체 (Tool Output Retention and Summary Replacement): BATS는 매 반복마다 이전 단계의 도구 출력을 폐기하고 가장 최근의 도구 응답만 유지합니다. 또한, BATS의 검증 모듈 내에서는 과거 궤적을 주기적으로 요약으로 대체하여 중요한 정보를 보존하면서도 오래되고 덜 중요한 세부 정보는 압축합니다.

## 주요 비교 방법론

BATS(Budget Aware Test-time Scaling)의 실험에서 사용된 주요 비교 방법론들은 예산 제약을 가진 다양한 에이전트와 스케일링 전략을 포함합니다. 이러한 방법들은 일반적으로 광범위한 작업별 훈련에 의존하거나, 자원 인식이 부족하여 성능 상한에 도달하는 경향이 있습니다. 반면, BATS는 자원 효율성과 비용-성능 트레이드오프에서 더 우수한 결과를 보입니다.

일반 목적 기반 모델 (General-purpose base models): 특정 작업에 맞춰 최적화되지 않은 범용적인 특성을 가집니다.

에이전트 검색 작업에 특화된 미세 조정 모델 (Specifically fine-tuned for agentic search tasks): 특정 검색 작업의 성능을 향상시키기 위해 광범위한 미세 조정을 거칩니다.

## ReAct 기반 스케일링 접근 방식 (ReAct-based scaling approaches):

순차 스케일링: ReAct 베이스라인에 예산 강제 전략(budget-forcing strategy)을 적용하여 에이전트가 답변을 제시할 때 더 많은 도구 예산을 활용하도록 메시지를 추가합니다. 이는 에이전트가 예산을 소진할 때까지 추론을 재평가하고 더 많은 도구를 사용하도록 장려합니다.

병렬 스케일링: 고정된 실행당 예산을 사용하여 여러 독립적인 실행을 병렬로 수행합니다. 결과는 일반적으로 다수결(Majority Vote), Best-of-N, 또는 Pass@N과 같은 방법으로 집계됩니다.

이러한 비교 방법론들은 BATS와 달리 예산에 대한 인식이 부족하거나, 성능 향상을 위해 상당한 작업별 훈련이 필요하다는 차이점을 보입니다. BATS는 완전히 훈련이 필요 없는(training-free) 방식으로 설계되었으며, 동적으로 계획 및 검증을 조정하여 더 적은 도구 호출과 낮은 전체 비용으로 더 높은 성능을 달성합니다.

## 주요 결과 및 비용-성능 트레이드오프

BATS는 다양한 표와 그림을 통해 정량적 개선과 유리한 비용-성능 트레이드오프를 보여줍니다.

## 정량적 개선:

성능 비교 (Table 3): BATS는 엄격한 예산 제약 조건에서 뛰어난 성능을 보입니다. 예를 들어, BrowseComp 벤치마크에서 100회 도구 사용 예산으로 Gemini-2.5-Pro를 사용할 때 BATS는 BrowseComp에서 24.6%, BrowseComp-ZH에서 46.0%, HLE-Search에서 27.0%의 정확도를 달성했습니다. 이는 BATS가 광범위한 작업별 훈련 없이도 자원 제약 환경에서 효율적인 예산 인식 설계를 통해 우수한 결과를 얻음을 강조합니다.

정확도 대 도구 호출 수 (Figure 7a): BATS는 평균 도구 호출 수에 대한 정확도를 비교할 때 모든 예산 수준에서 병렬 다수결 베이스라인을 지속적으로 능가함을 보여줍니다. 이는 BATS가 제한된 도구 호출을 더 효과적으로 사용하여 더 적은 호출로 더 높은 정확도를 달성할 수 있음을 나타냅니다.

## 비용-성능 트레이드오프:

정확도 대 비용 (Figure 7b): BATS는 토큰 사용량과 도구 호출 비용을 모두 포함하는 통합 비용 측정 기준에서 더 높은 정확도를 제공함으로써 더 유리한 스케일링 곡선을 제공합니다. 이는 BATS가 예산 제약 조건에서 효과성을 개선하고 비용-성능 곡선의 파레토 프론티어를 발전시킴을 명확하게 보여줍니다.

## 전반적인 효율성: BATS는 경쟁 방법론보다 더 적은 도구 호출을 사용하고 더 낮은 전체 비용을 발생시키면서도 더 높은 성능을 달성하는 유리한 스케일링 곡선을 생성합니다.

광범위한 영향 및 미래 연구 방향

도구 호출 예산을 에이전트 시스템의 스케일링 차원으로 공식화하는 것은 효율적이고 적응적인 에이전트를 구축하기 위한 중요한 토대를 제공합니다. 이 접근 방식은 기존 에이전트가 자원 인식이 부족하여 성능 한계에 부딪히는 문제를 해결하며, 예산 인식을 통해 에이전트는 사용 가능한 자원을 더 효과적으로 활용하여 비용-성능 파레토 프론티어를 지속적으로 확장할 수 있습니다.

잠재적 응용 분야: 웹 검색 에이전트에 초점을 맞추었지만, 이 개념은 로봇 팔 동작이나 센서 사용 횟수 제한, 복잡한 데이터 분석 작업에서 외부 API 호출 최적화 등 복잡한 다단계 작업을 수행하는 다른 에이전트 시스템에도 적용될 수 있습니다.

## 미래 연구 방향:

Budget Tracker와 같은 경량 플러그인 모듈을 다양한 에이전트 오케스트레이션 프레임워크에 통합하여 예산 인식 도구 사용을 더욱 용이하게 하는 방법 탐구.

BATS와 같이 실시간 자원 추적을 기반으로 계획 및 검증 전략을 동적으로 조정하여 '더 깊이 파고들지' 또는 '대안으로 전환할지' 유연하게 결정하는 예산 인식 프레임워크를 다른 에이전트 도메인으로 확장하는 연구.

## 관련 연구

본 논문은 다음 세 가지 주요 영역의 선행 연구들을 기반으로 합니다.

툴 증강 에이전트: LLM이 검색 엔진이나 API와 같은 다양한 툴을 통해 외부 환경과 상호작용하도록 하는 연구가 진행 중입니다. 웹 검색 에이전트는 검색 및 브라우징 툴을 사용하여 복잡한 쿼리를 해결하며, 툴 호출이 외부 지식 획득에 있어 토큰 기반 제약보다 더 직접적인 제약임을 시사하는 연구들이 있습니다.

테스트 시간 스케일링(TTS): 모델이 자체 피드백이나 반영을 기반으로 출력을 반복적으로 개선하는 순차적 스케일링과, 여러 추론 경로를 샘플링하고 집계 전략을 사용하는 병렬 스케일링으로 나뉩니다. 하이브리드 스케일링은 이 두 접근 방식의 보완적인 이점을 결합합니다.

자원 제약 추론: 기존 연구들은 일반적으로 토큰, 샘플링된 시퀀스 또는 FLOPs에 대한 제약을 정의했습니다. AgentTTS는 통합 FLOPs 예산 하에 LLM 크기 및 샘플링 수를 최적화하고, SLIM은 장기 에이전트의 컨텍스트 성장을 관리하기 위해 주기적인 요약 기능을 사용합니다. 웹 브라우징과 같은 에이전트 작업에서는 툴 호출 수가 탐색의 깊이와 너비를 직접적으로 결정합니다.

# reference 

https://arxiv.org/pdf/2511.17006
